(this.webpackJsonpwatchify=this.webpackJsonpwatchify||[]).push([[0],[,,,function(e,t,a){e.exports={container:"MainCard_container__3ihIw",mainCard:"MainCard_mainCard__3nBKJ",left:"MainCard_left__DfJLJ",titleGroup:"MainCard_titleGroup__1J04n",header:"MainCard_header__2KL5f",description:"MainCard_description__3r6SD",btnGroup:"MainCard_btnGroup__7U9S2",btnWatch:"MainCard_btnWatch__BE21Z",btnInfo:"MainCard_btnInfo__2UkB-",additionalBar:"MainCard_additionalBar__agxmy",right:"MainCard_right__1Bn_C"}},function(e,t,a){e.exports={container:"Filters_container__U1Pfi",header:"Filters_header__3UzR-",genreList:"Filters_genreList__3vwUx",genreListItem:"Filters_genreListItem__3L74s",filterButton:"Filters_filterButton__3KPQb",activeFilterButton:"Filters_activeFilterButton__3zr3Q"}},function(e,t,a){e.exports={container:"Header_container__21wXn",menu:"Header_menu__Zy7KP",logo:"Header_logo__3T0lc",tools:"Header_tools__1Cv-V",heart:"Header_heart__3b1hP"}},function(e,t,a){e.exports={searchBarList:"SearchBar_searchBarList__2cFIB",listItems:"SearchBar_listItems__1bL_i",button:"SearchBar_button__9hR9D",searchInput:"SearchBar_searchInput__3c1Ob"}},function(e,t,a){e.exports={card:"MovieCard_card__3mUEG",unfavourites:"MovieCard_unfavourites__3ZbWr",bckgrdChangeFrom:"MovieCard_bckgrdChangeFrom__3XkYx",favourites:"MovieCard_favourites__3fo2C",bckgrdChangeTo:"MovieCard_bckgrdChangeTo__1Pqpx",cardBody:"MovieCard_cardBody__1xEyu",movieTitle:"MovieCard_movieTitle__3YiEf"}},,function(e,t,a){e.exports={ham:"Hamburger_ham__2HOqn",hamLine:"Hamburger_hamLine__u_h7g"}},,function(e,t,a){e.exports={container:"MoviesList_container__2IDoI",moviesList:"MoviesList_moviesList__2xpPn",movieCard:"MoviesList_movieCard__CiSL8"}},,,,,function(e,t,a){e.exports={userAvatar:"UserAvatar_userAvatar__1uG16"}},function(e,t,a){e.exports={container:"Main_container__3nnM7"}},,,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(14),c=a.n(i),r=(a(23),a(13)),s=a.n(r),o=a(15),l=a(2),d=a(9),u=a.n(d),j=a(0),m=function(){return Object(j.jsxs)("div",{className:u.a.ham,children:[Object(j.jsx)("span",{className:u.a.hamLine}),Object(j.jsx)("span",{className:u.a.hamLine}),Object(j.jsx)("span",{className:u.a.hamLine})]})},b=a(16),h=a.n(b),v=function(){return Object(j.jsx)("div",{className:h.a.userAvatar})},_=a(5),f=a.n(_),O=function(){return Object(j.jsxs)("div",{className:f.a.container,children:[Object(j.jsxs)("div",{className:f.a.menu,children:[Object(j.jsx)(m,{})," ",Object(j.jsx)("h3",{className:f.a.currentSite,children:"Home"})]}),Object(j.jsx)("h1",{className:f.a.logo,children:"Watchify"}),Object(j.jsxs)("div",{className:f.a.tools,children:[Object(j.jsx)("div",{children:"en"}),Object(j.jsx)("div",{className:f.a.heart}),Object(j.jsx)(v,{})]})]})},x=a(18),p=a(4),g=a.n(p),C=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),i=a[0],c=a[1];Object(n.useEffect)((function(){var t=[];i.length||(e.movies.forEach((function(e){t.includes(e.genre)||t.push(e.genre)})),c(t))}),[e.movies,i.length]);var r=function(t){var a=t.target;e.onclick(a.getAttribute("data-filter"))};return Object(j.jsxs)("div",{className:g.a.container,children:[Object(j.jsx)("h3",{className:g.a.header,children:"Genres"}),Object(j.jsxs)("ul",{className:g.a.genreList,children:[Object(j.jsx)("li",{className:g.a.genreListItem,children:Object(j.jsx)("button",{className:"All"===e.activeGenre?g.a.activeFilterButton:g.a.filterButton,"data-filter":"All",onClick:r,children:"All"})},1.1),i.map((function(t,a){return Object(j.jsx)("li",{className:g.a.genreListItem,children:Object(j.jsx)("button",{className:e.activeGenre===t?g.a.activeFilterButton:g.a.filterButton,"data-filter":t,onClick:r,children:t})},a)}))]})]})},N=a(3),M=a.n(N),L=function(e){return Object(j.jsx)("div",{className:M.a.container,children:Object(j.jsxs)("div",{className:M.a.mainCard,children:[Object(j.jsxs)("div",{className:M.a.left,children:[Object(j.jsxs)("div",{className:M.a.titleGroup,children:[Object(j.jsx)("h2",{className:M.a.header,children:e.mainCardMovie&&e.mainCardMovie.title}),Object(j.jsx)("p",{className:M.a.description,children:e.mainCardMovie&&e.mainCardMovie.summary})]}),Object(j.jsxs)("div",{className:M.a.btnGroup,children:[Object(j.jsx)("button",{className:M.a.btnWatch,children:"Watch"}),Object(j.jsx)("button",{className:M.a.btnInfo,children:"More info"})]}),Object(j.jsx)("div",{className:M.a.additionalBar})]}),e.mainCardMovie&&Object(j.jsx)("div",{className:M.a.right,style:{backgroundImage:"url("+e.mainCardMovie.image+")"}})]})})},B=a(7),I=a.n(B),k=function(e){return Object(j.jsxs)("div",{className:I.a.card,style:{backgroundImage:"url("+e.item.image+")"},id:e.item.title,children:[Object(j.jsx)("div",{className:e.favorities.includes(e.item.title)?I.a.favourites:I.a.unfavourites,onClick:function(t){var a=t.target.getAttribute("data-id");null===a||e.favorities.includes(a)||e.onAddfavourites(a),null!==a&&e.favorities.includes(a)&&e.onRemovefavourites(a)},"data-id":e.item.title}),Object(j.jsx)("div",{className:I.a.cardBody,children:Object(j.jsx)("p",{className:I.a.movieTitle,children:e.item.title})})]})},A=a(11),S=a.n(A),y=function(e){var t=Object(n.useState)([""]),a=Object(l.a)(t,2),i=a[0],c=a[1],r=function(t){t&&c((function(e){return[].concat(Object(x.a)(e),[t])})),e.onAddfavourites(i)},s=function(t){var a=i;if(t)for(var n=0;n<a.length;n++)a[n]===t&&a.splice(n,1);c(a),e.onAddfavourites(i)},o=function(t){var a=t.target;a.getAttribute("id")&&e.onselect(a.getAttribute("id"))};return Object(j.jsxs)("div",{children:[Object(j.jsx)(L,{movies:e.movies,mainCardMovie:e.mainCardMovie}),Object(j.jsxs)("div",{className:S.a.container,children:[Object(j.jsx)(C,{movies:e.movies,onclick:e.onclick,activeGenre:e.activeGenre}),Object(j.jsx)("ul",{className:S.a.moviesList,children:e.movies.map((function(e,t){return Object(j.jsx)("li",{className:S.a.movieCard,onClick:o,children:Object(j.jsx)(k,{item:e,onAddfavourites:r,onRemovefavourites:s,favorities:i})},t)}))})]})]})},G=a(17),w=a.n(G),F=function(e){return Object(j.jsx)("div",{className:w.a.container,children:Object(j.jsx)(y,{movies:e.movies,onclick:e.onclick,onselect:e.onselect,mainCardMovie:e.mainCardMovie,onAddfavourites:e.onAddfavourites,activeGenre:e.activeGenre})})},E=a(6),H=a.n(E),T=["row","of","buttons","that","do","literally","nothing"],U=function(e){return Object(j.jsxs)("ul",{className:H.a.searchBarList,children:[Object(j.jsx)("div",{className:H.a.listItems,children:T.map((function(e,t){return Object(j.jsx)("li",{className:H.a.listItem,children:Object(j.jsx)("a",{href:"#",className:H.a.button,children:e})},t)}))}),Object(j.jsx)("li",{className:H.a.listItems,children:Object(j.jsx)("input",{className:H.a.searchInput,id:"search",type:"text",placeholder:"Search",disabled:!1,onChange:function(t){var a=t.currentTarget.value;e.onSearch(a)}})})]})},J=(a(26),function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)([]),r=Object(l.a)(c,2),d=r[0],u=r[1],m=Object(n.useState)(),b=Object(l.a)(m,2),h=b[0],v=b[1],_=Object(n.useState)(),f=Object(l.a)(_,2),x=f[0],p=f[1],g=Object(n.useState)("All"),C=Object(l.a)(g,2),N=C[0],M=C[1],L=Object(n.useState)(!0),B=Object(l.a)(L,2),I=B[0],k=B[1],A=Object(n.useState)(""),S=Object(l.a)(A,2),y=S[0],G=S[1],w=Object(n.useState)([""]),E=Object(l.a)(w,2),H=(E[0],E[1]),T=function(){var e=Object(o.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://itunes.apple.com/us/rss/topmovies/limit=100/json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.feed.entry.map((function(e){return{title:e.title.label,image:e["im:image"][2].label,summary:e.summary.label,trailer:e.link[1].attributes.href,genre:e.category.attributes.label}})),i(n),!d.length&&u(n),v(n[0]),k(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){if(h||v(d[3]),h){var e=d.filter((function(e){return e.title===x}));v(e[0])}window.scrollTo({top:0,behavior:"smooth"})};return Object(n.useEffect)((function(){T()}),[]),Object(n.useEffect)((function(){J()}),[d]),Object(n.useEffect)((function(){!function(){var e=[];d.forEach((function(t){""===y?(t.genre===N&&e.push(t),"All"===N&&e.push(t)):t.title.toLowerCase().includes(y.toLowerCase())&&e.push(t)})),i(e)}()}),[N,y]),Object(n.useEffect)((function(){J()}),[x]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(O,{}),Object(j.jsx)(U,{onSearch:function(e){G(e)}}),I?Object(j.jsx)("div",{className:"loading-container",children:Object(j.jsxs)("div",{className:"loading-text",children:[Object(j.jsx)("span",{children:"L"}),Object(j.jsx)("span",{children:"O"}),Object(j.jsx)("span",{children:"A"}),Object(j.jsx)("span",{children:"D"}),Object(j.jsx)("span",{children:"I"}),Object(j.jsx)("span",{children:"N"}),Object(j.jsx)("span",{children:"G"})]})}):Object(j.jsx)(F,{movies:a,onclick:function(e){M(e)},onselect:function(e){p(e)},mainCardMovie:h,onAddfavourites:function(e){H(e)},activeGenre:N})]})});c.a.render(Object(j.jsx)(J,{}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.bda9cce3.chunk.js.map